!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.owl=e():t.owl=e()}(window,function(){return function(t){var e={};function r(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=7)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),n=window,i=document,a={hasReady:!1,URLS:window.location.href.split("?"),AGENT:navigator.userAgent,getSysPlat:function(){var t=this.AGENT.indexOf("Android")>-1||this.AGENT.indexOf("Adr")>-1,e=!!this.AGENT.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return t?"Android":e?"Ios":"Other"},getAent:function(){return this.AGENT},log:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.default.__debug&&console.log.apply(console,["[owl-sdk-debug] now:"+window.performance.now()].concat(t))},getSysVersion:function(){var t=this.getSysPlat();if("Android"===t){var e=this.AGENT.split(";")[1].match(/\d+/g)||[];return{vd:e.join("."),vm:e[0]}}if("Ios"===t){var r=this.AGENT.split(";")[1].match(/(\d+)_(\d+)_?(\d+)?/)[0];return{vd:r,vm:r.split("_")[0]}}return{vd:"1.0",vm:"1"}},getPhoneBrand:function(){return"娴嬭瘯"},getRunPlat:function(){var t=this.AGENT.toUpperCase();return t.match(/PARENT/i)?"PARENT":t.match(/HOMEWORK/i)?"HOMEWORK":t.match(/AIRCLASS/i)?"AIRCLASS":t.match(/MICROMESSENGER/i)?"WX":t.match(/WEIBO/i)?"WB":t.match(/QQ/i)?"QQ":"OTHER"},getUrl:function(){if(o.default.getUrlHelper()){var t=o.default.getUrlHelper();if("[object Function]"===Object.prototype.toString.call(t)){var e=window.location.href,r=t(e)||e;return-1!==r.indexOf("?")&&console.error("["+r+"] 璇RL涓嶇鍚堣鑼冿紒"),r.split("?")[0]}console.error("urlHelper is not Function")}return this.URLS[0]},getReferrer:function(){return document.referrer},toFixed2:function(t){return Math.round(100*t)/100},getUrlParams:function(){if(this.URLS.length>1){var t=this.URLS[1].split("&"),e={};return t.forEach(function(t){var r=t.split("=");e[r[0]]=r[1]||""}),e}return{}},getUUID:function(t){void 0===t&&(t=32);for(var e="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz1234567890",r=e.length,o=[],n=0;n<t;n++)o.push(e.charAt(Math.floor(Math.random()*r)));return o.join("")},getUvId:function(){var t=localStorage.getItem("Zyb_jzb_webapp_owl");return t||(t=this.getUUID(16),localStorage.setItem("Zyb_jzb_webapp_owl",t)),t},getNetWork:function(){return navigator.connection&&navigator.connection.effectiveType||"鏈煡"},getBI:function(){var t={},e=this.AGENT.toLowerCase().match(/(msie|firefox|chrome|opera|version).*?([\d.]+)/);return e&&e.length?(t.br=e[1].replace(/version/,"safari"),t.brv=e[2]):(t.br="other",t.brv=""),t},getCookieV:function(t){var e,r=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(r))?unescape(e[2]):null},getHost:function(t){var e="",r=t.match(/[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\.?/);return r&&r.length&&(e=r[0]),e},getJRE:function(t){var e=this.getHost(this.getUrl());if(e.length){if(/test[0-9]{0,5}\.suanshubang/.test(e))return"dev";if(/qatest[0-9]{0,5}\.suanshubang/.test(e))return"test";if(/[a-zA-Z0-9]{0,20}\.zuoyebang/.test(e))return t&&t.__tips__||this.getCookieV("__tips__")||this.getCookieV("tips")?"tips":"prod"}return"other"},assign:function(t,e){if(Object.assign)return Object.assign(t,e);for(var r in e)e.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=e[r]);return t},checkStrOrArray:function(t){if(null!=t){var e=t.constructor.name.toLocaleUpperCase();if("STRING"===e)return[t];if("ARRAY"===e)return t}return[]},isFiltered:function(t,e){if(void 0===e&&(e=[]),t)for(var r=0;r<e.length;r++){var o=e[r];if("string"==typeof o&&(o=new RegExp(o)),"regexp"===(o.constructor&&o.constructor.name).toLowerCase()&&o.test(t))return!0}return!1},getXPath:function(t){var e=[];for(e=[];t&&t.nodeType===Node.ELEMENT_NODE;t=t.parentNode){var r=void 0,o=0,n=!1;for(r=t.previousSibling;r;r=r.previousSibling)r.nodeType!==Node.DOCUMENT_TYPE_NODE&&r.nodeName===t.nodeName&&++o;for(r=t.nextSibling;r&&!n;r=r.nextSibling)r.nodeName===t.nodeName&&(n=!0);var i=(t.prefix?t.prefix+":":"")+t.localName,a=o||n?"["+(o+1)+"]":"";e.splice(0,0,i+a)}return e.length?"/"+e.join("/"):null},zybajax:function(t,e,r,o,n){var i=this,a={};a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),Array.isArray(e)&&1===e.length&&(e=e[0]),e=JSON.stringify(e),a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){var t=i.readXHRbody(a);r&&r(t)}},a.open("POST",t,!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.error=function(){o?o(i.readXHRbody(a)):console.error("report error:"+i.readXHRbody(a))};try{a.send(e)}catch(t){o&&o(this.readXHRbody(a)),console.error("report error"+t.message)}},readXHRbody:function(t){return t.responseType&&"text"!==t.responseType?"document"===t.responseType?t.responseXML:t.response:t.responseText},hash:function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-".split(""),r=5381,o=t.length-1;if("string"==typeof t)for(;o>-1;o--)r+=(r<<5)+t.charCodeAt(o);else for(;o>-1;o--)r+=(r<<5)+t[o];var n=2147483647&r,i="";do{i+=e[63&n]}while(n>>=6);return i},getQueryString:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),r=decodeURIComponent(window.location.search).substr(1).match(e);return null!=r?unescape(r[2]):""},isTakeSample:function(t){return Math.floor(Math.random()*t*10+1)<=10},getSysInfo:function(t){void 0===t&&(t={});var e=this.getSysVersion(),r=this.getUrlParams(),n={client:this.client(),sysPlat:this.getSysPlat(),agent:this.AGENT,sysVersion:e.vd,runPlat:this.getRunPlat(),phoneBrand:this.getPhoneBrand(),url:this.getUrl(),referrer:this.getReferrer(),urlParams:JSON.stringify(r),network:this.getNetWork(),winW:window.screen.width||window.screen.availWidth,winH:window.screen.height||window.screen.availHeight,locale:window.navigator.language,metaData:document.title,createTime:(new Date).getTime(),authkey:o.default.getKey(),sysMv:e.vm,uvId:this.getUvId(),vcname:r.vcname,sdkVersion:"0.1.31",jre:this.getJRE(r),cname:this.getQueryString("province")};return n=this.assign(n,this.getBI()),t&&(n=this.assign(t,n)),n},client:function(){},getStyle:function(t,e){return window.getComputedStyle?window.getComputedStyle(t)[e]:t.currentStyle[e]},onReady:function(t){var e=this;this.hasReady?t&&t():"complete"===i.readyState?t&&t():this.on(n,"load",function(){e.hasReady=!0,t&&t()})},on:n.addEventListener?function(t,e,r){t.addEventListener(e,r,!0)}:"attachEvent"in n?function(t,e,r){t.attachEvent("on"+e,r)}:void 0,off:n.removeEventListener?function(t,e,r){t.removeEventListener(e,r,!0)}:"detachEvent"in n?function(t,e,r){t.detachEvent("on"+e,r)}:void 0};e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),n={requestUrl:"https://nlogtj.zuoyebang.cc/log/performance",key:"",submitLimit:1,slowReqTime:800,pvRatio:10,urlHelper:null,filterErrors:["Script error",/^Javascript error: Script error\.? on line 0$/],ignoreUrlKeyWord:["127.0.0.1","localhost"],isPvRatio:!0,useFMP:!0,__debug:!1,setConfig:function(t){n.requestUrl=t.requestUrl||n.requestUrl,n.key=t.key||n.key,n.submitLimit=t.submitLimit||n.submitLimit,n.urlHelper=t.urlHelper,n.slowReqTime=t.slowReqTime||n.slowReqTime,n.__debug=t.__debug,n.useFMP=!!t.__debug||(t.useFMP||n.useFMP),null==t.isPvRatio||!1!==t.isPvRatio||t.__debug||(n.isPvRatio=!1),t.pvRatio&&"number"==typeof t.pvRatio&&t.pvRatio>n.pvRatio&&(n.pvRatio=t.pvRatio),n.filterErrors=n.filterErrors.concat(o.default.checkStrOrArray(t.filterErrors)),n.ignoreUrlKeyWord=n.__debug?[]:n.ignoreUrlKeyWord.concat(o.default.checkStrOrArray(t.ignoreUrlKeyWord))},getRequestUrl:function(){return n.requestUrl},getIsPvRatio:function(){return n.isPvRatio},getPvRatio:function(){return n.pvRatio},getKey:function(){return n.key},getSubmitLimit:function(){return n.submitLimit},getSlowReqTime:function(){return n.slowReqTime},getFilterErrors:function(){return n.filterErrors},getIgnoreUrlKeyWord:function(){return n.ignoreUrlKeyWord},getUrlHelper:function(){return n.urlHelper},getUseFMP:function(){return n.useFMP},getDebug:function(){return n.__debug}};e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),n=r(1),i=new(function(){function t(){this.STEP=2e3,this.MAX_DOUBLE_STEP=6e4,this.MAX_STEP=6e4,this.LIMIT=1,this.startStatus=!1,this.dataPool=[],this.tools={},this.tools=o.default}return t.prototype.start=function(){var t=this;if(!this.startStatus){this.LIMIT=n.default.getSubmitLimit(),this.startStatus=!0;var e=6e3,r=function(){setTimeout(function(){var o=[];if(t.dataPool.length>0){var i=t.dataPool.length-t.LIMIT?t.LIMIT:t.dataPool.length;o=t.dataPool.splice(0,i),t.tools.zybajax(n.default.getRequestUrl(),o,function(t){},function(){t.dataPool=t.dataPool.concat(o)})}else e<t.MAX_STEP&&(e>t.MAX_DOUBLE_STEP?e*=2:e+=t.STEP);r()},e)};r()}},t.prototype.pushDatas=function(t){this.LIMIT<=1?this.pushData(t):Array.isArray(t)?this.dataPool=this.dataPool.concat(t):this.dataPool.push(t)},t.prototype.pushData=function(t){var e=this;n.default.getDebug()?o.default.log(t):this.tools.zybajax(n.default.getRequestUrl(),t,function(t){console.log(t)},function(r){e.dataPool.push(t)})},t}());e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(2),n=function(){function t(){this.win=window,this.baseInfo={}}return t.prototype.submit=function(){o.default.start()},t.prototype.init=function(t,e){this.win=t||window,this.baseInfo=e},t}();e.default=n},function(t,e,r){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),a=r(2),s=r(3),u=r(1),c=new(function(t){function e(){var e=t.call(this)||this;return e.TYPE="error",e.EVENT_MAX_VALUE=20,e.win=window,e.errorInfoMap={},e.eventlist=[],e.errorOpStatus={INIT:1,OK:2,FAIL:3},e}return n(e,t),e.prototype.submitDataPush=function(t,e){var r=i.default.hash(t);i.default.isFiltered(e.message,u.default.getFilterErrors())||this.errorInfoMap[r]||(e.userBehavior=this.eventlist,e.id=r,(e=i.default.assign(e,this.baseInfo)).type=this.TYPE,e.clientTime=+new Date,this.errorInfoMap[r]=this.errorOpStatus.INIT,a.default.pushDatas(e))},e.prototype.customError=function(t,e,r){void 0===e&&(e=""),void 0===r&&(r="");var o=i.default.getUvId();this.submitDataPush(o,{errorType:t,errorInfo:e,message:r})},e.prototype.pushList=function(t){this.eventlist.push(JSON.stringify(t)),this.eventlist.length>20&&this.eventlist.shift()},e.prototype.addUserBehavior=function(){var t=this;this.win.addEventListener("click",function(e){var r=e.target,o=r&&r.outerHTML;o&&o.length>200&&(o=o.slice(0,200)),t.pushList({errorType:"click",page:{url:window.location.href,title:document.title},detail:{outerHTML:o,tagName:r&&r.tagName,className:r&&r.className},time:(new Date).getTime()})},!0)},e.prototype.collectXHRError=function(t){var e={xhrInfo:t,errorReqLink:t.reqUrl,errorType:"XMLHttpRequest"},r=t.reqType+t.reqUrl+t.type+t.reqParams;this.submitDataPush(r,e)},e.prototype.collectPromiseError=function(){var t=this,e=function(e,r){if(e){e&&"unhandledrejection"!==e.name&&t.win.console&&console.error(e);var o={name:e.name||r&&r.info||"caught error",message:e.message||r&&r.info,componentName:r&&r.componentName,info:r&&r.info,stacktrace:e.stack,fileName:e.fileName,lineNumber:e.lineNumber,columnNumber:e.columnNumber,errorType:"promiseError"};t.submitDataPush(o.name,o)}};this.win.addEventListener("unhandledrejection",function(t){var r=t.reason;"[object Error]"===Object.prototype.toString.apply(r)?(r.name="unhandledrejection",e(r)):e({message:r,name:"unhandledrejection"})})},e.prototype.collectSrcError=function(){var t=this,e=this;this.win.addEventListener&&this.win.addEventListener("error",function(r){var o=r.target||r.srcElement;if("errorevent"!==r.constructor.name.toLocaleLowerCase()){var n=o&&o.outerHTML||"",a=o&&(o.src||o.link),s={errorType:"resourceError",target:{outerHTML:n,src:a,tagName:o&&o.tagName,className:o&&o.className,type:o&&o.type,XPath:i.default.getXPath(o),timeStamp:r.timeStamp},errorLink:a,resourceHost:i.default.getHost(a),resourceType:o.tagName};e.submitDataPush(a,s)}else t.baseErrorGroupFun(r.message,r.filename,r.lineno,r.colno,r.error)},!0)},e.prototype.baseErrorGroupFun=function(t,e,r,o,n){var i={};n&&n.stack&&(i.stacktrace=n.stack.toString());var a=t;return i.errorInfo=t,i.lineNumber=r,i.columnNumber=o||this.win.event&&this.win.event.errorCharacter||0,i.message=i.errorInfo,i.fileName=encodeURIComponent(e||""),i.errorType="jsError",this.submitDataPush(a,i),!1},e.prototype.collectBaseError=function(){var t=this;this.win.onerror=function(e,r,o,n,i){return t.baseErrorGroupFun(e,r,o,n,i),!1}},e.prototype.init=function(e,r){t.prototype.init.call(this,e,r),this.addUserBehavior(),this.collectPromiseError(),this.collectSrcError(),this.collectBaseError()},e}(s.default));e.default=c},function(t,e,r){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(2),a=r(3),s=r(0),u=new(function(t){function e(){var e=t.call(this)||this;return e.TYPE="custom",e}return n(e,t),e.prototype.submitDataPush=function(t){var e=s.default.assign(t,this.baseInfo);e.type=this.TYPE,"Object"!==t.constructor.name&&(e=s.default.assign({customInfo:t},this.baseInfo)),i.default.pushDatas(e)},e.prototype.init=function(e,r){t.prototype.init.call(this,e,r)},e}(a.default));e.default=u},function(t,e,r){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var a=r(3),s=r(2),u=r(0),c=r(1),l=r(8),f=function(t){function e(){var e=t.call(this)||this;return e.loadInfo={},e.TYPE="page",e.times=window.performance?window.performance.timing||window.performance.getEntriesByType("navigation")[0]:{},e.fmp=null,e.customPerf=["cfpt"],e}return n(e,t),e.prototype.init=function(e,r){t.prototype.init.call(this,e,r),c.default.getUseFMP()&&this.getFMPtiming()},e.prototype.getLoadPageInfo=function(){this.loadInfo.timeJson=JSON.stringify(this.times);var t=this.times,e=(t.fetchStart,0);void 0!==t.navigationStart&&(e=u.default.toFixed2(t.navigationStart)),this.loadInfo.dnsTime=u.default.toFixed2(t.domainLookupEnd-t.domainLookupStart),this.loadInfo.tcpTime=u.default.toFixed2(t.connectEnd-t.connectStart),this.loadInfo.ttfb=u.default.toFixed2(t.responseStart-t.requestStart),this.loadInfo.trans=u.default.toFixed2(t.responseEnd-t.responseStart),this.loadInfo.domParsingTime=u.default.toFixed2(t.domInteractive-t.responseEnd),this.loadInfo.resLoadTime=u.default.toFixed2(t.loadEventStart-t.domContentLoadedEventEnd),this.loadInfo.onLoadTime=u.default.toFixed2(t.loadEventEnd-t.loadEventStart),this.loadInfo.blankTime=u.default.toFixed2(t.responseEnd-t.fetchStart),this.loadInfo.firstTime=u.default.toFixed2(t.responseStart-e),this.loadInfo.fbt=u.default.toFixed2(t.responseStart-t.domainLookupStart),this.loadInfo.tti=u.default.toFixed2(t.domInteractive-t.fetchStart),this.loadInfo.resourceTime=u.default.toFixed2(t.domContentLoadedEventEnd-t.fetchStart),this.loadInfo.finalTime=u.default.toFixed2(t.loadEventStart-t.fetchStart),this.loadInfo.resourcesTime=this.getResourceTimes();var r=window.performance&&window.performance.memory;r&&(this.loadInfo.mused_p=Number((r.usedJSHeapSize/r.totalJSHeapSize*100).toFixed(0)),this.loadInfo.mused=r.usedJSHeapSize,this.loadInfo.mtotal=r.totalJSHeapSize,this.loadInfo.mlimit=r.jsHeapSizeLimit),this.loadInfo.type=this.TYPE},e.prototype.getResourceTimes=function(){var t=[];if(window.performance.getEntriesByType){var e=window.performance.getEntriesByType("resource");e&&Array.isArray(e)&&e.forEach(function(e){t.push({type:(e.initiatorType+"").toUpperCase(),path:e.name,duration:e.duration,connectStart:e.connectStart,transferSize:e.transferSize})})}return t},e.prototype.saveCustomPerf=function(t){var e=t.cfpt;e&&(this.loadInfo.cfpt=e)},e.prototype.getFMPtiming=function(){var t=new l.default;this.fmp=t},e.prototype.submit=function(){var t=this,e=c.default.getUseFMP();(!c.default.getIsPvRatio()||c.default.getDebug()||u.default.isTakeSample(c.default.getPvRatio()))&&(window.performance?u.default.on(window,"load",function(){setTimeout(function(){u.default.log("onload",t.times.loadEventEnd),t.getLoadPageInfo();var r=t.dataCheck();e?t.fmp.getFMP().then(function(e){s.default.pushData(u.default.assign(r,i({},t.baseInfo,{fmp:e})))}).catch(function(t){console.log(t)}):s.default.pushData(u.default.assign(r,i({},t.baseInfo)))},50)}):s.default.pushData(u.default.assign(this.loadInfo,this.baseInfo)))},e.prototype.dataCheck=function(){var t=this.loadInfo;return["dnsTime","tcpTime","ttfb","trans","domParsingTime","resLoadTime","firstTime","blankTime","finalTime","fmp","resourceTime","tti","fbt"].forEach(function(e){var r=t[e];e in t&&(r>3e5&&(t[e]=3e5+1),r<0&&(t[e]=0))}),t},e}(a.default);e.default=new f},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s(r(0));var o=s(r(4)),n=s(r(5)),i=s(r(6)),a=s(r(9));function s(t){return t&&t.__esModule?t:{default:t}}var u=["parent"];function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return t.uaName&&(Array.isArray(t.uaName)?u=u.concat(t.uaName):u.push(t.uaName)),new a.default(window).init(t),{errorPush:function(t){var e=t.errorType,r=t.errorInfo,n=void 0===r?"":r,i=t.errorMsg,a=void 0===i?"":i;void 0!==e&&void 0!==n?o.default.customError(e,n,a):console.error("errorType or errorInfo is undefined!")},logPush:function(t){n.default.submitDataPush(t)},perfPush:function(t){Object.keys(t).length&&t.cfpt&&i.default.saveCustomPerf(t)}}}catch(t){console.log("error"),console.log(t)}}window.zybLogCollect=c,e.default=c},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),n=window.performance,i=window.MutationObserver,a=["SCRIPT","STYLE","META","HEAD","LINK"],s=0;try{s=n.timing.fetchStart}catch(t){s=Date.now()}var u=window.innerWidth,c=window.innerHeight,l=(window.location,function(){function t(){this.statusCollector=[],this.flag=!0,this.muo=i,this.observer=null,this.callbackCount=1,this.mp={},this.muo&&this.initObserver()}return t.prototype.initObserver=function(){var t=this;this.firstSnapshot(),o.default.log("initObserver"),this.observer=new i(function(){var e=Date.now()-s,r=document.body;r&&t.doTag(r,t.callbackCount++),t.statusCollector.push({t:e})}),this.observer.observe(document,{childList:!0,subtree:!0})},t.prototype.getFMP=function(){var t=this;return new Promise(function(e,r){"complete"===document.readyState?t.checkCanCal(s)?setTimeout(function(){e(t.calFinallScore())},500):e(t.calFinallScore()):window.addEventListener("load",function(){e(t.getFMP())},!0)})},t.prototype.firstSnapshot=function(){var t=Date.now()-s,e=document.body;e&&this.doTag(e,this.callbackCount++),this.statusCollector.push({t:t})},t.prototype.initResourceMap=function(){var t=this;n.getEntries().forEach(function(e){t.mp[e.name]=e.responseEnd})},t.prototype.doTag=function(t,e){var r=t.tagName;if(-1===a.indexOf(r)){var o=t.children?t.children.length:0;if(o>0)for(var n=t.children,i=o-1;i>=0;i--)null===n[i].getAttribute("o_c")&&n[i].setAttribute("o_c",e),this.doTag(n[i],e)}},t.prototype.calFinallScore=function(){var t=-1;if(i&&this.flag){this.observer.disconnect(),this.flag=!1;var e=this.deepTraversal(document.body),r={st:void 0,els:[],dpss:[]};e.dpss.forEach(function(t){r&&r.st?r.st<t.st&&(r=t):r=t});var n=this.filterTheResultSet(r.els),a=this.calResult(n);t=Number(a.toFixed(0)),o.default.log("FMP: "+t)}return t},t.prototype.calResult=function(t){var e=this,r=-1;return t.forEach(function(t){var o,n=+t.node.getAttribute("o_c")-1;o=e.statusCollector[n].t,r<o&&(r=o)}),r},t.prototype.filterTheResultSet=function(t){var e=0;t.forEach(function(t){e+=t.st});var r=e/t.length;return t.filter(function(t){return t.st>r})},t.prototype.deepTraversal=function(t){if(t){for(var e=[],r=0,o=void 0;o=t.children[r];r++){var n=this.deepTraversal(o);n.st&&e.push(n)}return this.calScore(t,e)}return{}},t.prototype.calScore=function(t,e){var r=t.getBoundingClientRect(),o=r.width,n=r.height,i=r.left,a=r.top,s=(r.bottom,r.right,1);(c<a||u<i)&&(s=0);var l=0;e.forEach(function(t){l+=t.st});var f=o*n*1*s,d=[{node:t,st:f,weight:1}],p=this.calAreaPercent(t);return(l>f*p||0===p)&&(f=l,d=[],e.forEach(function(t){d=d.concat(t.els)})),{dpss:e,st:f,els:d}},t.prototype.checkCanCal=function(t){var e=Date.now()-t;return!(e>1e4||e-(this.statusCollector&&this.statusCollector.length&&this.statusCollector[this.statusCollector.length-1].t||0)>1e3)},t.prototype.calAreaPercent=function(t){var e=t.getBoundingClientRect(),r=e.left,o=e.right,n=e.top,i=e.bottom,a=e.width,s=e.height,l=u,f=c,d=o-r+(l-0)-(Math.max(o,l)-Math.min(r,0));if(d<=0)return 0;var p=i-n+(f-0)-(Math.max(i,f)-Math.min(n,0));return p<=0?0:d*p/(a*s)},t}());e.default=l},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),n=r(1),i=r(6),a=r(4),s=r(10),u=r(5),c=function(){function t(t){this.win=window,this.baseSysInfo={},this.regModules=[i.default,a.default,s.default,u.default],this.win=t||window}return t.prototype.regAndTrigger=function(){var t=this;this.regModules.forEach(function(e){t.regModules.push(e),e.init(window,JSON.parse(JSON.stringify(t.baseSysInfo))),e.submit()})},t.prototype.init=function(t){o.default.getQueryString("zybdebugger")&&(t.__debug=!0),t&&n.default.setConfig(t),this.baseSysInfo=o.default.getSysInfo(),this.win.errorCollect=a.default,this.regAndTrigger()},t}();e.default=c},function(t,e,r){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(2),a=r(4),s=r(1),u=r(3),c=r(0),l=function(t){function e(){var e=t.call(this)||this;return e.TYPE="slow",e.ajaxUniqueMap={},e.REQ_TIME=800,e}return n(e,t),e.prototype.init=function(e,r){var o=this,n=Object.create(null);if(this.REQ_TIME=s.default.getSlowReqTime(),t.prototype.init.call(this,e,r),window.XMLHttpRequest){var u=window.XMLHttpRequest.prototype,l=u.open,f=u.send;u.open=function(t,e){var r=e.split("?");n.reqStartTime=+new Date,n.reqType=t,n.reqUrl=r[0],n.type=o.TYPE,n.reqParams=r.length>1?r[1]:"",l.apply(this,arguments)},u.send=function(){var t=this,e=t.onreadystatechange,r=new RegExp(s.default.getRequestUrl()).test(n.reqUrl);t.onreadystatechange=function(){if(!r&&4===t.readyState){var s=n,u=s.reqStartTime,l=+new Date-u;if(s.timeLong=l,s.status=t.status,s.clientTime=+new Date,t.status/100==2){if(l>=o.REQ_TIME){if("2G"==o.baseInfo.network.toUpperCase())return;i.default.pushDatas(c.default.assign(s,o.baseInfo))}}else{s.reqStatus=t.status;var f=c.default.readXHRbody(t);s.resp=f?f.toString().substr(0,300):"",a.default.collectXHRError(s)}}e&&e(this,arguments)},f.apply(this,arguments)}}},e}(u.default);e.default=new l}])});
