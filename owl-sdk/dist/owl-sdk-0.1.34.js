!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.owl=e():t.owl=e()}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=7)}([function(t,e,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n};Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),i=r(8),a=window,s=document,u={hasReady:!1,URLS:window.location.href.split("?"),AGENT:navigator.userAgent,getSysPlat:function(){var t=this.AGENT.indexOf("Android")>-1||this.AGENT.indexOf("Adr")>-1,e=!!this.AGENT.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return t||e||"Other"},getType:function(t){return Object.prototype.toString.call(t).replace(/(\[|\]|object)/g,"").trim().toLocaleLowerCase()},getAent:function(){return this.AGENT},log:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.default.__debug&&console.log.apply(console,n(["[owl-sdk-debug] now:"+window.performance.now()],t))},isAndroid:function(){return"Android"===this.getSysPlat()},isIos:function(){return"Ios"===this.getSysPlat()},getSysVersion:function(){if(this.isAndroid()){var t=this.AGENT.split(";")[1].match(/\d+/g)||[];return{vd:t.join("."),vm:t[0]}}if(this.isIos()){var e=this.AGENT.split(";")[1].match(/(\d+)_(\d+)_?(\d+)?/)[0];return{vd:e,vm:e.split("_")[0]}}return{vd:"1.0",vm:"1"}},getPhoneBrand:function(){if(this.isAndroid()){var t=/Android[^\(\)]*?;\s*([^\(\)]*?)Build/.exec(this.AGENT);if(t&&t.length&&t.length>=2)return t[1].trim()}return this.isIos()?i.default:"other"},getRunPlat:function(){var t=this.AGENT.toUpperCase();return t.match(/PARENT/i)?"PARENT":t.match(/HOMEWORK/i)?"HOMEWORK":t.match(/AIRCLASS/i)?"AIRCLASS":t.match(/MICROMESSENGER/i)?"WX":t.match(/WEIBO/i)?"WB":t.match(/QQ/i)?"QQ":"OTHER"},getUrl:function(){if(o.default.__urlHelper){var t=o.default.__urlHelper;if("[object Function]"===Object.prototype.toString.call(t)){var e=t(this.URLS[0])||this.URLS[0];return-1!==e.indexOf("?")&&console.error("["+e+"] 该URL不符合规范！"),e.split("?")[0]}console.error("urlHelper is not Function")}return this.URLS[0]},getReferrer:function(){return document.referrer},toFixed2:function(t){return Math.round(100*t)/100},getUrlParams:function(t){var e=Object.create(null);return this.URLS.length>1&&this.URLS[1].split("&").forEach((function(t){var r=t.split("=");e[r[0]]=r[1]||""})),t?e[t]?e[t]:"":e},getUUID:function(t){void 0===t&&(t=32);for(var e="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz1234567890",r=e.length,n=[],o=0;o<t;o++)n.push(e.charAt(Math.floor(Math.random()*r)));return n.join("")},getUvId:function(){var t=localStorage.getItem("Zyb_jzb_webapp_owl");return t||(t=this.getUUID(16),localStorage.setItem("Zyb_jzb_webapp_owl",t)),t},getNetWork:function(){return navigator.connection&&navigator.connection.effectiveType||"未知"},getBI:function(){var t=Object.create(null),e=this.AGENT.toLowerCase().match(/(msie|firefox|chrome|opera|version).*?([\d.]+)/);return e&&e.length?(t.br=e[1].replace(/version/,"safari"),t.brv=e[2]):(t.br="other",t.brv=""),t},getCookieV:function(t){var e,r=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(r))?unescape(e[2]):null},getHost:function(t){var e="",r=t.match(/[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\.?/);return r&&r.length&&(e=r[0]),e},getJRE:function(t){var e=this.getHost(this.getUrl());if(e.length){if(/test[0-9]{0,5}\.xx/.test(e))return"dev";if(/qatest[0-9]{0,5}\.xx/.test(e))return"test";if(/[a-zA-Z0-9]{0,20}\.xx/.test(e))return t&&t.__tips__||this.getCookieV("__tips__")||this.getCookieV("tips")?"tips":"prod"}return"other"},assign:function(t,e){if(Object.assign)return Object.assign(t,e);for(var r in e)e.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=e[r]);return t},checkStrOrArray:function(t){if(null!=t){var e=t.constructor.name.toLocaleUpperCase();if("STRING"===e)return[t];if("ARRAY"===e)return t}return[]},isHitFiltered:function(t,e){if(void 0===e&&(e=[]),t)for(var r=0;r<e.length;r++){var n=e[r];if("string"==typeof n&&(n=new RegExp(n)),"regexp"===(n.constructor&&n.constructor.name).toLowerCase()&&n.test(t))return!0}return!1},getXPath:function(t){var e=[];for(e=[];t&&t.nodeType===Node.ELEMENT_NODE;t=t.parentNode){var r=void 0,n=0,o=!1;for(r=t.previousSibling;r;r=r.previousSibling)r.nodeType!==Node.DOCUMENT_TYPE_NODE&&r.nodeName===t.nodeName&&++n;for(r=t.nextSibling;r&&!o;r=r.nextSibling)r.nodeName===t.nodeName&&(o=!0);var i=(t.prefix?t.prefix+":":"")+t.localName,a=n||o?"["+(n+1)+"]":"";e.splice(0,0,i+a)}return e.length?"/"+e.join("/"):null},zybajax:function(t,e,r,n){var o=this,i=new XMLHttpRequest;Array.isArray(e)&&1===e.length&&(e=e[0]),e=JSON.stringify(e),i.onreadystatechange=function(){4==i.readyState&&200==i.status&&r&&r(o.readXHRbody(i))},i.open("POST",t,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.error=function(){n?n(o.readXHRbody(i)):console.error("report error:"+o.readXHRbody(i))};try{i.send(e)}catch(t){n&&n(this.readXHRbody(i)),console.error("report error"+t.message)}},readXHRbody:function(t){return t.responseType&&"text"!==t.responseType?"document"===t.responseType?t.responseXML:t.response:t.responseText},hash:function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-".split(""),r=5381,n=t.length-1;if("string"==typeof t)for(;n>-1;n--)r+=(r<<5)+t.charCodeAt(n);else for(;n>-1;n--)r+=(r<<5)+t[n];var o=2147483647&r,i="";do{i+=e[63&o]}while(o>>=6);return i},isTakeSample:function(t){return Math.floor(Math.random()*t*10+1)<=10},getSysInfo:function(t){void 0===t&&(t=null);var e=this.getSysVersion(),r=this.getUrlParams(),n={client:this.client(),sysPlat:this.getSysPlat(),agent:this.AGENT,sysVersion:e.vd,runPlat:this.getRunPlat(),phoneBrand:this.getPhoneBrand(),url:this.getUrl(),referrer:this.getReferrer(),urlParams:JSON.stringify(r),network:this.getNetWork(),winW:window.screen.width||window.screen.availWidth,winH:window.screen.height||window.screen.availHeight,locale:window.navigator.language,metaData:document.title,createTime:(new Date).getTime(),authkey:o.default.__key,sysMv:e.vm,uvId:this.getUvId(),vcname:r.vcname,cuid:r.cuid,sdkVersion:"_sdkVersion_",jre:this.getJRE(r),cname:r.province};return n=this.assign(n,this.getBI()),t&&"[object Object]"===Object.prototype.toString.call(t)&&(n.extColumn=t),n},client:function(){},getStyle:function(t,e){return window.getComputedStyle?window.getComputedStyle(t)[e]:t.currentStyle[e]},onReady:function(t){var e=this;this.hasReady?t&&t():"complete"===s.readyState?t&&t():this.on(a,"load",(function(){e.hasReady=!0,t&&t()}))},on:a.addEventListener?function(t,e,r){t.addEventListener(e,r,!0)}:"attachEvent"in a?function(t,e,r){t.attachEvent("on"+e,r)}:void 0,off:a.removeEventListener?function(t,e,r){t.removeEventListener(e,r,!0)}:"detachEvent"in a?function(t,e,r){t.detachEvent("on"+e,r)}:void 0};e.default=u},function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{u(n.next(t))}catch(t){i(t)}}function s(t){try{u(n.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),a={__requestUrl:"https://nlogtj.xx.cc/log/performance",__key:"",__submitLimit:1,__slowReqTime:800,__pvRatio:10,__urlHelper:null,__filterErrors:["Script error",/^Javascript error: Script error\.? on line 0$/],__ignoreUrlKeyWord:["127.0.0.1","localhost","sockjs-node"],__isPvRatio:!0,__useFMP:!0,__debug:!1,__submitHook:null,__hookData:null,setConfig:function(t){var e=this;a.__requestUrl=t.requestUrl||a.__requestUrl,a.__key=t.key||a.__key,a.__submitLimit=t.submitLimit||a.__submitLimit,a.__urlHelper=t.urlHelper,a.__slowReqTime=t.slowReqTime||a.__slowReqTime,a.__debug=t.__debug||a.__debug,a.__useFMP=!!t.__debug||(t.useFMP||a.__useFMP),!1!==t.isPvRatio||t.__debug||(a.__isPvRatio=!1),t.pvRatio&&"number"==typeof t.pvRatio&&t.pvRatio>a.__pvRatio&&(a.__pvRatio=t.pvRatio),a.__filterErrors=a.__filterErrors.concat(i.default.checkStrOrArray(t.filterErrors)),a.__ignoreUrlKeyWord=a.__debug?[]:a.__ignoreUrlKeyWord.concat(i.default.checkStrOrArray(t.ignoreUrlKeyWord)),t.submitHook&&(a.__submitHook=function(){return n(e,void 0,void 0,(function(){var e,r;return o(this,(function(n){switch(n.label){case 0:if(a.__hookData)return[2,a.__hookData];if("function"!==(e=i.default.getType(t.submitHook)))return[3,5];r=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,t.submitHook()];case 2:return r=n.sent(),[3,4];case 3:return n.sent(),[2,null];case 4:return r&&("object"===i.default.getType(r)?a.__hookData=r:a.__hookData={userDef:r}),[3,6];case 5:a.__hookData="object"===e?t.submitHook:{userDef:t.submitHook},n.label=6;case 6:return[2,a.__hookData]}}))}))})}};e.default=a},function(t,e,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{u(n.next(t))}catch(t){i(t)}}function s(t){try{u(n.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(0),s=r(1),u=new(function(){function t(){this.STEP=2e3,this.MAX_DOUBLE_STEP=6e4,this.MAX_STEP=6e4,this.LIMIT=1,this.startStatus=!1,this.dataPool=[],this.tools={},this.tools=a.default}return t.prototype.start=function(){var t=this;if(!this.startStatus){this.LIMIT=s.default.__submitLimit,this.startStatus=!0;var e=6e3,r=function(){setTimeout((function(){var n=[];if(t.dataPool.length>0){var o=t.dataPool.length-t.LIMIT?t.LIMIT:t.dataPool.length;n=t.dataPool.splice(0,o),t.tools.zybajax(s.default.__requestUrl,n,(function(t){}),(function(){t.dataPool=t.dataPool.concat(n)}))}else e<t.MAX_STEP&&(e>t.MAX_DOUBLE_STEP?e*=2:e+=t.STEP);r()}),e)};r()}},t.prototype.pushDatas=function(t){return o(this,void 0,void 0,(function(){var e,r,o,u;return i(this,(function(i){switch(i.label){case 0:return(r=s.default.__submitHook)?[4,s.default.__submitHook()]:[3,2];case 1:r=i.sent(),i.label=2;case 2:if(e=r,"object"===a.default.getType(t)&&0==this.dataPool.length&&this.LIMIT<=1)o=n(n({},t),e),this.pushData(o);else if(Array.isArray(t)){for(u=0;u<t.length;u++)t[u]=n(n({},t[u]),e);this.dataPool=this.dataPool.concat(t)}else this.dataPool.push(t);return[2]}}))}))},t.prototype.pushData=function(t){var e=this;s.default.__debug?a.default.log(t):this.tools.zybajax(s.default.__requestUrl,t,(function(t){console.log(t)}),(function(r){e.dataPool.push(t)}))},t}());e.default=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),o=function(){function t(){this.win=window,this.baseInfo={}}return t.prototype.submit=function(){n.default.start()},t.prototype.init=function(t,e){this.win=t||window,this.baseInfo=e},t}();e.default=o},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),a=r(2),s=r(3),u=r(1),l=new(function(t){function e(){var e=t.call(this)||this;return e.TYPE="error",e.EVENT_MAX_VALUE=20,e.win=window,e.errorInfoMap={},e.eventlist=[],e.errorOpStatus={INIT:1,OK:2,FAIL:3},e}return o(e,t),e.prototype.submitDataPush=function(t,e){var r=i.default.hash(t);i.default.isHitFiltered(e.message,u.default.__filterErrors)||this.errorInfoMap[r]||(e.userBehavior=this.eventlist,e.id=r,(e=i.default.assign(e,this.baseInfo)).type=this.TYPE,e.clientTime=+new Date,this.errorInfoMap[r]=this.errorOpStatus.INIT,a.default.pushDatas(e))},e.prototype.customError=function(t,e,r){void 0===e&&(e=""),void 0===r&&(r="");var n=i.default.getUvId();this.submitDataPush(n,{errorType:t,errorInfo:e,message:r})},e.prototype.pushList=function(t){this.eventlist.push(JSON.stringify(t)),this.eventlist.length>20&&this.eventlist.shift()},e.prototype.addUserBehavior=function(){var t=this;this.win.addEventListener("click",(function(e){var r=e.target,n=r&&r.outerHTML;n&&n.length>200&&(n=n.slice(0,200)),t.pushList({errorType:"click",page:{url:window.location.href,title:document.title},detail:{outerHTML:n,tagName:r&&r.tagName,className:r&&r.className},time:(new Date).getTime()})}),!0)},e.prototype.collectXHRError=function(t){var e={xhrInfo:t,errorReqLink:t.reqUrl,errorType:"XMLHttpRequest"},r=t.reqType+t.reqUrl+t.type+t.reqParams;this.submitDataPush(r,e)},e.prototype.collectPromiseError=function(){var t=this,e=function(e,r){if(e){e&&"unhandledrejection"!==e.name&&t.win.console&&console.error(e);var n={name:e.name||r&&r.info||"caught error",message:e.message||r&&r.info,componentName:r&&r.componentName,info:r&&r.info,stacktrace:e.stack,fileName:e.fileName,lineNumber:e.lineNumber,columnNumber:e.columnNumber,errorType:"promiseError"};t.submitDataPush(n.name,n)}};this.win.addEventListener("unhandledrejection",(function(t){var r=t.reason;"[object Error]"===Object.prototype.toString.apply(r)?(r.name="unhandledrejection",e(r)):e({message:r,name:"unhandledrejection"})}))},e.prototype.collectSrcError=function(){var t=this,e=this;this.win.addEventListener&&this.win.addEventListener("error",(function(r){var n=r.target||r.srcElement;if("errorevent"!==r.constructor.name.toLocaleLowerCase()){var o=n&&n.outerHTML||"",a=n&&(n.src||n.link),s={errorType:"resourceError",target:{outerHTML:o,src:a,tagName:n&&n.tagName,className:n&&n.className,type:n&&n.type,XPath:i.default.getXPath(n),timeStamp:r.timeStamp},errorLink:a,resourceHost:i.default.getHost(a),resourceType:n.tagName};e.submitDataPush(a,s)}else t.baseErrorGroupFun(r.message,r.filename,r.lineno,r.colno,r.error)}),!0)},e.prototype.baseErrorGroupFun=function(t,e,r,n,o){var i={};o&&o.stack&&(i.stacktrace=o.stack.toString());var a=t;return i.errorInfo=t,i.lineNumber=r,i.columnNumber=n||this.win.event&&this.win.event.errorCharacter||0,i.message=i.errorInfo,i.fileName=encodeURIComponent(e||""),i.errorType="jsError",this.submitDataPush(a,i),!1},e.prototype.collectBaseError=function(){var t=this;this.win.onerror=function(e,r,n,o,i){return t.baseErrorGroupFun(e,r,n,o,i),!1}},e.prototype.init=function(e,r){t.prototype.init.call(this,e,r),this.addUserBehavior(),this.collectPromiseError(),this.collectSrcError(),this.collectBaseError()},e}(s.default));e.default=l},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(2),a=r(3),s=r(0),u=new(function(t){function e(){var e=t.call(this)||this;return e.TYPE="custom",e}return o(e,t),e.prototype.submitDataPush=function(t){var e=s.default.assign(t,this.baseInfo);e.type=this.TYPE,"Object"!==t.constructor.name&&(e=s.default.assign({customInfo:t},this.baseInfo)),i.default.pushDatas(e)},e.prototype.init=function(e,r){t.prototype.init.call(this,e,r)},e}(a.default));e.default=u},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var a=r(3),s=r(2),u=r(0),l=r(1),c=r(9),f=function(t){function e(){var e=t.call(this)||this;return e.loadInfo={},e.TYPE="page",e.winPf=window.performance,e.times=e.winPf?e.winPf.timing||e.winPf.getEntriesByType("navigation")[0]:{},e.fmp=null,e.onloadFun=window.onload||function(){},e.customPerf=["cfpt"],e}return o(e,t),e.prototype.init=function(e,r){t.prototype.init.call(this,e,r),l.default.__useFMP&&this.getFMPtiming()},e.prototype.getLoadPageInfo=function(){this.loadInfo.timeJson=JSON.stringify(this.times);var t=this.times,e=0;void 0!==t.navigationStart&&(e=u.default.toFixed2(t.navigationStart)),this.loadInfo.dnsTime=u.default.toFixed2(t.domainLookupEnd-t.domainLookupStart),this.loadInfo.tcpTime=u.default.toFixed2(t.connectEnd-t.connectStart),this.loadInfo.ttfb=u.default.toFixed2(t.responseStart-t.requestStart),this.loadInfo.trans=u.default.toFixed2(t.responseEnd-t.responseStart),this.loadInfo.domParsingTime=u.default.toFixed2(t.domInteractive-t.responseEnd),this.loadInfo.resLoadTime=u.default.toFixed2(t.loadEventStart-t.domContentLoadedEventEnd),this.loadInfo.onLoadTime=u.default.toFixed2(t.loadEventEnd-t.loadEventStart),this.loadInfo.blankTime=u.default.toFixed2(t.responseEnd-t.fetchStart),this.loadInfo.firstTime=u.default.toFixed2(t.responseStart-e),this.loadInfo.fbt=u.default.toFixed2(t.responseStart-t.domainLookupStart),this.loadInfo.tti=u.default.toFixed2(t.domInteractive-t.fetchStart),this.loadInfo.resourceTime=u.default.toFixed2(t.domContentLoadedEventEnd-t.fetchStart),this.loadInfo.finalTime=u.default.toFixed2(t.loadEventStart-t.fetchStart),this.loadInfo.resourcesTime=this.getResourceTimes();var r=this.winPf&&this.winPf.memory;r&&(this.loadInfo.mused_p=Number((r.usedJSHeapSize/r.totalJSHeapSize*100).toFixed(0)),this.loadInfo.mused=r.usedJSHeapSize,this.loadInfo.mtotal=r.totalJSHeapSize,this.loadInfo.mlimit=r.jsHeapSizeLimit),this.loadInfo.type=this.TYPE},e.prototype.getResourceTimes=function(){var t=[];if(this.winPf&&this.winPf.getEntriesByType){var e=this.winPf.getEntriesByType("resource");e&&Array.isArray(e)&&e.forEach((function(e){t.push({type:(e.initiatorType+"").toUpperCase(),path:e.name,duration:e.duration,connectStart:e.connectStart,transferSize:e.transferSize})}))}return t},e.prototype.saveCustomPerf=function(t){var e=t.cfpt;e&&(this.loadInfo.cfpt=e)},e.prototype.getFMPtiming=function(){var t=new c.default;this.fmp=t},e.prototype.submit=function(){var t=this,e=l.default.__useFMP;(l.default.__debug||!l.default.__isPvRatio||u.default.isTakeSample(l.default.__pvRatio))&&(this.winPf?u.default.on(window,"load",(function(){t.onloadFun(),setTimeout((function(){u.default.log("onload",t.times.loadEventEnd),t.getLoadPageInfo();var r=t.dataCheck();e?t.fmp.getFMP().then((function(e){s.default.pushDatas(u.default.assign(r,i(i({},t.baseInfo),{fmp:e})))})).catch((function(t){console.log(t)})):s.default.pushDatas(u.default.assign(r,i({},t.baseInfo)))}),50)})):s.default.pushDatas(u.default.assign(this.loadInfo,this.baseInfo)))},e.prototype.dataCheck=function(){var t=this.loadInfo;return["dnsTime","tcpTime","ttfb","trans","domParsingTime","resLoadTime","firstTime","blankTime","finalTime","fmp","resourceTime","tti","fbt"].forEach((function(e){var r=t[e];null!=r&&(r>3e5&&(t[e]=3e5+1),r<0&&(t[e]=0))})),t},e}(a.default);e.default=new f},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s(r(0));var n=s(r(4)),o=s(r(5)),i=s(r(6)),a=s(r(10));function s(t){return t&&t.__esModule?t:{default:t}}var u=["parent"];function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return t.uaName&&(Array.isArray(t.uaName)?u=u.concat(t.uaName):u.push(t.uaName)),new a.default(window).init(t),{errorPush:function(t){var e=t.errorType,r=t.errorInfo,o=void 0===r?"":r,i=t.errorMsg,a=void 0===i?"":i;void 0!==e&&void 0!==o?n.default.customError(e,o,a):console.error("errorType or errorInfo is undefined!")},logPush:function(t){o.default.submitDataPush(t)},vueErrorPush:function(t,e){n.default.submitDataPush(t,e)},perfPush:function(t){Object.keys(t).length&&t.cfpt&&i.default.saveCustomPerf(t)}}}catch(t){console.log("error:"+t)}}window.zybLogCollect=l,e.default=l},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={"Apple A7 GPU":{1136:"iPhone5/5s",2048:"iPadAir/iPadMini2/3"},"Apple A8 GPU":{1334:"iPhone6",2208:"iPhone6Plus",2048:"iPadAir2/4"},"Apple A9 GPU":{1136:"iPhoneSE",1334:"iPhone6s",2208:"iPhone6sPlus"},"Apple A10 GPU":{1334:"iPhone7",2208:"iPhone7Plus"},"Apple A11 GPU":{1334:"iPhone8",2208:"iPhone8Plus",2436:"iPhoneX"},"Apple A12 GPU":{2436:"iPhoneXS",2688:"iPhoneXSMAX",1792:"iphoneXR"}};e.default=function(){try{var t=document.createElement("canvas").getContext("experimental-webgl"),e=t.getParameter(t.getExtension("WEBGL_debug_renderer_info").UNMASKED_RENDERER_WEBGL),r=Math.max(window.screen.width,window.screen.height)*(window.devicePixelRatio||1);return n[e][r]||"ios未知"}catch(t){console.log(t)}return"ios未知"}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),o=window.performance,i=window.MutationObserver,a=["SCRIPT","STYLE","META","HEAD","LINK"],s=0;try{s=o.timing.fetchStart}catch(t){s=Date.now()}var u=window.innerWidth,l=window.innerHeight,c=(window.location,function(){function t(){this.statusCollector=[],this.flag=!0,this.muo=i,this.observer=null,this.callbackCount=1,this.mp={},this.muo&&this.initObserver()}return t.prototype.initObserver=function(){var t=this;this.firstSnapshot(),n.default.log("initObserver"),this.observer=new i((function(){var e=Date.now()-s,r=document.body;r&&t.doTag(r,t.callbackCount++),t.statusCollector.push({t:e})})),this.observer.observe(document,{childList:!0,subtree:!0})},t.prototype.getFMP=function(){var t=this;return new Promise((function(e,r){"complete"===document.readyState?t.checkCanCal(s)?setTimeout((function(){e(t.calFinallScore())}),500):e(t.calFinallScore()):window.addEventListener("load",(function(){e(t.getFMP())}),!0)}))},t.prototype.firstSnapshot=function(){var t=Date.now()-s,e=document.body;e&&this.doTag(e,this.callbackCount++),this.statusCollector.push({t:t})},t.prototype.initResourceMap=function(){var t=this;o.getEntries().forEach((function(e){t.mp[e.name]=e.responseEnd}))},t.prototype.doTag=function(t,e){var r=t.tagName;if(-1===a.indexOf(r)){var n=t.children?t.children.length:0;if(n>0)for(var o=t.children,i=n-1;i>=0;i--)null===o[i].getAttribute("o_c")&&o[i].setAttribute("o_c",e),this.doTag(o[i],e)}},t.prototype.calFinallScore=function(){var t=-1;if(i&&this.flag){this.observer.disconnect(),this.flag=!1;var e=this.deepTraversal(document.body),r={st:void 0,els:[],dpss:[]};e.dpss.forEach((function(t){r&&r.st?r.st<t.st&&(r=t):r=t}));var o=this.filterTheResultSet(r.els),a=this.calResult(o);t=Number(a.toFixed(0)),n.default.log("FMP: "+t)}return t},t.prototype.calResult=function(t){var e=this,r=-1;return t.forEach((function(t){var n,o=+t.node.getAttribute("o_c")-1;n=e.statusCollector[o].t,r<n&&(r=n)})),r},t.prototype.filterTheResultSet=function(t){var e=0;t.forEach((function(t){e+=t.st}));var r=e/t.length;return t.filter((function(t){return t.st>r}))},t.prototype.deepTraversal=function(t){if(t){for(var e=[],r=0,n=void 0;n=t.children[r];r++){var o=this.deepTraversal(n);o.st&&e.push(o)}return this.calScore(t,e)}return{}},t.prototype.calScore=function(t,e){var r=t.getBoundingClientRect(),n=r.width,o=r.height,i=r.left,a=r.top,s=(r.bottom,r.right,1);(l<a||u<i)&&(s=0);var c=0;e.forEach((function(t){c+=t.st}));var f=n*o*1*s,d=[{node:t,st:f,weight:1}],h=this.calAreaPercent(t);return(c>f*h||0===h)&&(f=c,d=[],e.forEach((function(t){d=d.concat(t.els)}))),{dpss:e,st:f,els:d}},t.prototype.checkCanCal=function(t){var e=Date.now()-t;return!(e>1e4||e-(this.statusCollector&&this.statusCollector.length&&this.statusCollector[this.statusCollector.length-1].t||0)>1e3)},t.prototype.calAreaPercent=function(t){var e=t.getBoundingClientRect(),r=e.left,n=e.right,o=e.top,i=e.bottom,a=e.width,s=e.height,c=u,f=l,d=n-r+(c-0)-(Math.max(n,c)-Math.min(r,0));if(d<=0)return 0;var h=i-o+(f-0)-(Math.max(i,f)-Math.min(o,0));return h<=0?0:d*h/(a*s)},t}());e.default=c},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),o=r(1),i=r(6),a=r(4),s=r(11),u=r(5),l=function(){function t(t){this.win=window,this.baseSysInfo={},this.regModules=[i.default,a.default,s.default,u.default],this.win=t||window}return t.prototype.regAndTrigger=function(){var t=this;this.regModules.forEach((function(e){t.regModules.push(e),e.init(window,JSON.parse(JSON.stringify(t.baseSysInfo))),e.submit()}))},t.prototype.init=function(t){n.default.getUrlParams("zybdebugger")&&(t.__debug=!0),t&&o.default.setConfig(t),this.baseSysInfo=n.default.getSysInfo(t?t.extColumn:null),this.win.errorCollect=a.default,n.default.isHitFiltered(n.default.getUrl(),o.default.__ignoreUrlKeyWord)||this.regAndTrigger()},t}();e.default=l},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(2),a=r(4),s=r(1),u=r(3),l=r(0),c=function(t){function e(){var e=t.call(this)||this;return e.TYPE="slow",e.ajaxUniqueMap={},e.REQ_TIME=800,e}return o(e,t),e.prototype.intercept=function(t,e,r){if(!l.default.isHitFiltered(t.reqUrl,s.default.__ignoreUrlKeyWord)){if((/^2{1}\d{2}$/.test(e.status)||e.status+""=="0")&&t.timeLong>=r.REQ_TIME&&"2G"!==r.baseInfo.network.toUpperCase())i.default.pushDatas(l.default.assign(t,r.baseInfo));else if(/^(4|5){1}\d{2}$/.test(e.status)){t.reqStatus=e.status;var n=l.default.readXHRbody(e);t.resp=n?n.toString().substr(0,300):"",a.default.collectXHRError(t)}}},e.prototype.init=function(e,r){var n=this,o=Object.create(null);if(this.REQ_TIME=s.default.__slowReqTime,t.prototype.init.call(this,e,r),window.XMLHttpRequest){var i=window.XMLHttpRequest.prototype,a=i.open,u=i.send;i.open=function(t,e){var r=e.split("?");o.reqStartTime=+new Date,o.reqType=t,o.reqUrl=r[0],o.type=n.TYPE,o.reqParams=r.length>1?r[1]:"",a.apply(this,arguments)},i.send=function(){var t=this,e=t.onreadystatechange,r=new RegExp(s.default.__requestUrl).test(o.reqUrl);t.onreadystatechange=function(){try{if(!r&&4===t.readyState){var i=o,a=i.reqStartTime,s=+new Date,u=s-a;i.timeLong=u,i.status=t.status,i.clientTime=+new Date,n.intercept(i,t,n)}}catch(t){console.log("error:"+t)}finally{e&&e.apply(t,arguments)}},u.apply(this,arguments)}}},e}(u.default);e.default=new c}])}));
//# sourceMappingURL=owl-sdk-0.1.34.js.map